<!--<div ng-controller='jsTreeController as vm'>
    <div js-tree="vm.treeConfig" should-apply="vm.applyModelChanges()" ng-model="vm.treeData" tree="vm.treeInstance" tree-events="ready:vm.readyCB;create_node:vm.createCB"></div>
</div>-->

<div class="container" ng-controller="jsTreeController as vm">
    <br/><br/>
    <div class="row" cg-busy="vm.promise">
        <toaster-container></toaster-container>
        <div class="col-xs-6">
            <div class="panel panel-default">
                <div class="panel-heading"><i class="glyphicon glyphicon-tree-conifer"></i> Js Tree</div>
                <div class="panel-body">
                    <div js-tree="vm.treeConfig" should-apply="vm.applyModelChanges()" ng-model="vm.treeData" tree="vm.treeInstance" tree-events="ready:vm.readyCB;create_node:vm.createCB"></div>
                </div>
            </div>
        </div>
        <div class="col-xs-6">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <i class="glyphicon glyphicon-plus"></i> Add Node</div>
                <div class="panel-body">
                    <form class="form-horizontal" novalidate name="newNodeForm" role="form">
                        <div class="form-group">
                            <label for="addNode" class="col-xs-3 control-label">Node Text:</label>
                            <div class="col-xs-9" ng-class="{ 'has-error' : newNodeForm.addNode.$invalid}">
                                <input type="text" class="form-control" id="addNode" ng-model="vm.newNode.text" name="addNode" placeholder="Node Text" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="nodeParent" class="col-xs-3 control-label">Node Parent:</label>
                            <div class="col-xs-9" ng-class="{ 'has-error' : newNodeForm.nodeParent.$invalid}">
                                <select class="form-control" id="nodeParent" name="nodeParent" ng-model="vm.newNode.parent" required>
                                    <option ng-repeat="node in vm.treeData" value="{{node.id}}">{{node.text}}[{{node.id}}]</option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12">
                                <div class="pull-right">
                                    <button type="button" ng-disabled="newNodeForm.$invalid" ng-click="vm.addNewNode()" class="btn btn-success">Add Node</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12">
            <b>Raw Data:</b> {{ vm.treeData | json }}
        </div>
    </div>
</div>